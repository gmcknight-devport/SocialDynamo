{"ast":null,"code":"// import { useEffect } from 'react'\n// import { useNavigate } from 'react-router-dom';\n// import * as ROUTES from '../constants/routes';\n// import { ToastContainer, toast } from \"react-toastify\";\n// import 'react-toastify/dist/ReactToastify.css';\n\n// function RefreshLogin() {\n//     const userId = JSON.parse(localStorage.getItem('userId'))?.UserId || null;\n//     const url = JSON.parse(localStorage.getItem('url')) || null;\n//     const navigate = useNavigate();\n\n//     const handleRefreshToken = async () =>{\n\n//         console.log(\"In refresh login, handling refresh!\");\n\n//         const objMap = { userId };\n//         const finalBody = JSON.stringify(objMap);\n\n//         //Fetch data\n//         const response = await fetch(url + '/authentication/refresh-token', {\n//             method: 'PUT',\n//             include: 'cors',\n//             credentials: 'include',\n//             body: finalBody,\n//             headers: {\n//                 'Content-Type': 'application/json',\n//             },\n//         });\n\n//         if (!response.ok) {      \n//             localStorage.clear();  \n//             displayError(\"Session has expired and token cannot be refreshed. You will be redirected to login.\");\n//             handleModalClose();\n//         }\n//     };\n\n//     const handleModalClose = () => {        \n//         navigate(ROUTES.LOGIN);\n//     };\n\n//     useEffect(() => {\n//         const fetchData = async () => {\n//             await handleRefreshToken();\n//         };\n\n//         fetchData();\n//     }, []);\n\n//     const displayError = (message) => {\n//         toast.error(message);\n//     }\n\n//     return (\n//         <>        \n//         <div className='toast-cont'>\n//             <ToastContainer position='top-center' theme='light' />\n//         </div>\n//         </>\n//     );    \n// }\n\n// export default RefreshLogin","map":{"version":3,"names":[],"sources":["C:/Users/glenn/Documents/GitHub/SocialDynamo/SocialDynamo/Frontend/react-frontend/src/util/refresh-login.js"],"sourcesContent":["// import { useEffect } from 'react'\r\n// import { useNavigate } from 'react-router-dom';\r\n// import * as ROUTES from '../constants/routes';\r\n// import { ToastContainer, toast } from \"react-toastify\";\r\n// import 'react-toastify/dist/ReactToastify.css';\r\n\r\n// function RefreshLogin() {\r\n//     const userId = JSON.parse(localStorage.getItem('userId'))?.UserId || null;\r\n//     const url = JSON.parse(localStorage.getItem('url')) || null;\r\n//     const navigate = useNavigate();\r\n        \r\n//     const handleRefreshToken = async () =>{\r\n\r\n\r\n//         console.log(\"In refresh login, handling refresh!\");\r\n\r\n\r\n//         const objMap = { userId };\r\n//         const finalBody = JSON.stringify(objMap);\r\n        \r\n//         //Fetch data\r\n//         const response = await fetch(url + '/authentication/refresh-token', {\r\n//             method: 'PUT',\r\n//             include: 'cors',\r\n//             credentials: 'include',\r\n//             body: finalBody,\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//             },\r\n//         });\r\n\r\n//         if (!response.ok) {      \r\n//             localStorage.clear();  \r\n//             displayError(\"Session has expired and token cannot be refreshed. You will be redirected to login.\");\r\n//             handleModalClose();\r\n//         }\r\n//     };\r\n\r\n//     const handleModalClose = () => {        \r\n//         navigate(ROUTES.LOGIN);\r\n//     };\r\n\r\n//     useEffect(() => {\r\n//         const fetchData = async () => {\r\n//             await handleRefreshToken();\r\n//         };\r\n\r\n//         fetchData();\r\n//     }, []);\r\n\r\n//     const displayError = (message) => {\r\n//         toast.error(message);\r\n//     }\r\n\r\n//     return (\r\n//         <>        \r\n//         <div className='toast-cont'>\r\n//             <ToastContainer position='top-center' theme='light' />\r\n//         </div>\r\n//         </>\r\n//     );    \r\n// }\r\n\r\n// export default RefreshLogin"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAGA;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}