{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\glenn\\\\Documents\\\\GitHub\\\\SocialDynamo\\\\SocialDynamo\\\\Frontend\\\\react-frontend\\\\src\\\\components\\\\post\\\\post.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport \"./post.css\";\nimport CommentsPopup from \"../modals/comments-popup\";\nimport UserPopup from \"../modals/user-popup\";\nimport UserHeader from \"../user-header\";\nimport BlobToImage from \"../../util/blob-to-image\";\nimport RefreshLogin from \"../../util/refresh-login\";\nimport \"./image-gallery.css\";\nimport ImageGallery from \"react-image-gallery\";\nimport styled from 'styled-components';\nimport ArrowCircleLeftIcon from '@mui/icons-material/ArrowCircleLeft';\nimport ArrowCircleRightIcon from '@mui/icons-material/ArrowCircleRight';\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Post(_ref) {\n  _s();\n  var _JSON$parse;\n  let {\n    post,\n    onDelete\n  } = _ref;\n  const loggedInUserId = ((_JSON$parse = JSON.parse(localStorage.getItem('userId'))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.UserId) || null;\n  const isLoggedInUserProfile = post.userId === loggedInUserId ? true : false;\n  const url = JSON.parse(localStorage.getItem('url')) || null;\n  const [userLiked, setUserLiked] = useState(false);\n  const [likes, setLikes] = useState(post.Likes.length > 0 ? post.Likes : 0);\n  const [hasMultipleFiles, setHasMultipleFiles] = useState(false);\n  const maxWidth = window.innerWidth * 0.4;\n  const maxHeight = maxWidth / 3 * 4;\n  const [images, setImages] = useState([]);\n  const [largestImageHeight, setLargestImageHeight] = useState(maxHeight);\n  const [ImageContainer, setImageContainer] = useState(null);\n  const [imageContainerStyle, setImageContainerStyle] = useState({});\n  const userRow = {\n    profilepictureblob: post.ProfilePicture,\n    name: post.UsersName,\n    userId: post.UserId\n  };\n  let debounceTimeout;\n\n  //Initialise multiple files const & images\n  useEffect(() => {\n    setHasMultipleFiles(post.Files.length > 1);\n    const fetchImages = async () => {\n      const result = await BlobToImage({\n        byteArray: post.Files\n      });\n      setImages(result);\n    };\n    fetchImages();\n  }, [post.Files.length]);\n\n  //Separate useEffect to ensure images fetched before calculations\n  useEffect(() => {\n    let maxAdjustedHeight = 0;\n    if (images.length > 0) {\n      // Calculate the adjusted height for each image based on the original aspect ratio\n      const adjustedHeights = images.map(image => {\n        const aspectRatio = image.width / (image.height || 1);\n        const adjustedHeight = Math.min(maxHeight, parseInt(maxWidth / aspectRatio));\n        return isFinite(adjustedHeight) ? adjustedHeight : 0;\n      });\n\n      // Filter out NaN or infinite values\n      const validHeights = adjustedHeights.filter(height => isFinite(height));\n      if (validHeights.length > 0) {\n        // Find the maximum adjusted height among all valid heights\n        maxAdjustedHeight = Math.max(...validHeights);\n        setLargestImageHeight(`${maxAdjustedHeight}px`);\n      } else {\n        setLargestImageHeight(0); // Reset to 0 if there are no valid heights\n      }\n    } else {\n      setLargestImageHeight(0); // Reset to 0 if there are no images\n    }\n\n    //Ensure correct styling\n    const imgCont = styled.div`    \n        .image-gallery-content,\n        .image-gallery-image,\n        .image-gallery-slides\n        {\n          width: 100%;\n          aspect-ratio: 4/3;\n          max-width: ${maxWidth}px !important;\n          height: ${maxAdjustedHeight}px;\n          max-height: ${maxHeight}px;\n          object-fit: contain;\n        }\n        \n        .image-gallery-slides{\n          border: 1px solid black;\n          border-radius: 5px;\n        }\n        `;\n\n    //Styling if no images\n    const containerStyle = images.length === 0 ? {\n      width: `${maxWidth}px`,\n      height: `${maxWidth}px`,\n      border: '1px solid black'\n    } : {\n      maxWidth: `${maxWidth}px`,\n      width: `${maxWidth}px`,\n      width: '100%',\n      maxHeight: `${maxHeight}px`,\n      border: '1px solid black'\n    };\n    setImageContainerStyle(containerStyle);\n    setImageContainer(imgCont);\n  }, [images]);\n\n  //Handle post like\n  const handleLikeClick = () => {\n    setUserLiked(!userLiked);\n\n    // Update the local state of likes\n    const newLikes = userLiked ? likes - 1 : likes + 1;\n    setLikes(newLikes);\n    if (debounceTimeout) {\n      clearTimeout(debounceTimeout);\n    }\n    debounceTimeout = setTimeout(async () => {\n      const postId = post.postId;\n      const likeUserId = loggedInUserId;\n      const objMap = {\n        postId,\n        likeUserId\n      };\n      const finalBody = JSON.stringify(objMap);\n      likePost(finalBody);\n    }, 300);\n  };\n  const likePost = async body => {\n    try {\n      //Send data\n      const response = await fetch(url + '/posts/likepost', {\n        method: 'PUT',\n        mode: 'cors',\n        credentials: 'include',\n        body: finalBody,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.status === 401) {\n        RefreshLogin();\n        handleLikeClick();\n      }\n    } catch (error) {\n      setError(\"Unexpected error occurred, please try again.\");\n    }\n  };\n\n  //Handle delete post\n  const handleDeletePost = async () => {\n    const id = post.postId;\n    const objMap = {\n      id\n    };\n    const finalBody = JSON.stringify(objMap);\n    try {\n      //Fetch data\n      const response = await fetch(url + '/posts/deletepost', {\n        method: 'DELETE',\n        mode: 'cors',\n        credentials: 'include',\n        body: finalBody,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const responseJson = await response.json();\n\n      //Handle different responses\n      if (response.ok) {\n        setError('');\n      } else if (response.status === 401) {\n        RefreshLogin();\n        handleDeletePost();\n      } else {\n        setError(responseJson.value);\n      }\n    } catch (error) {\n      setError(\"Unexpected error occurred, please try again.\");\n    }\n  };\n\n  //Fetch current likes from API\n  const fetchPostLikes = async () => {\n    const userIds = post.likes.map(like => like.LikeUserId);\n    const objMap = {\n      userIds\n    };\n    const finalBody = JSON.stringify(objMap);\n    try {\n      //Send data              \n      const response = await fetch(url + '/account/Profiles', {\n        method: 'PUT',\n        mode: 'cors',\n        body: finalBody,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        //Map response and update\n        const processedData = post.likes.map((item, index) => ({\n          userId: item.LikeUserId,\n          name: data[index].forename + ' ' + data[index].surname,\n          profilePictureBlob: data[index].profilePictureBlob\n        }));\n      } else if (response.status === 401) {\n        RefreshLogin();\n        fetchPostLikes();\n      }\n      if (userLiked) processedData.unshift(userRow);\n    } catch (error) {\n      setError(\"Unexpected error occurred, unable to fetch post likes.\");\n    }\n    return processedData;\n  };\n  const handleDeleteComment = async () => {\n    await onDelete(data.commentId);\n  };\n  const ConfirmDelete = _ref2 => {\n    let {\n      closeToast\n    } = _ref2;\n    /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" Are you sure you want to delete? \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-yes\",\n        onClick: handleDeleteComment,\n        children: \"Yes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-no\",\n        onClick: closeToast,\n        children: \"No\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 5\n    }, this);\n  };\n\n  //Custom rendering for left nav icon\n  function renderLeftNav(onClick, disabled) {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"image-gallery-left-nav\",\n      disabled: disabled,\n      onClick: onClick,\n      style: {\n        outline: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(ArrowCircleLeftIcon, {\n        className: \"left-icon\",\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this);\n  }\n  ;\n\n  //Custom render for right nav icon\n  function renderRightNav(onClick, disabled) {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"image-gallery-right-nav\",\n      disabled: disabled,\n      onClick: onClick,\n      style: {\n        outline: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(ArrowCircleRightIcon, {\n        className: \"right-icon\",\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-header-left\",\n        children: /*#__PURE__*/_jsxDEV(UserHeader, {\n          profilepictureblob: post.ProfilePicture,\n          name: post.UsersName,\n          userid: post.UserId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-header-right\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delete-button-container\",\n          children: isLoggedInUserProfile && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"delete-button\",\n            onClick: handleDeletePost,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cont\",\n      children: hasMultipleFiles ? /*#__PURE__*/_jsxDEV(ImageContainer, {\n        children: /*#__PURE__*/_jsxDEV(ImageGallery, {\n          items: images,\n          renderLeftNav: renderLeftNav,\n          renderRightNav: renderRightNav,\n          showPlayButton: false,\n          showFullscreenButton: false,\n          showThumbnails: false,\n          autoPlay: false,\n          disableKeyDown: true,\n          showBullets: true,\n          disableThumbnailScroll: true,\n          disableThumbnailSwipe: true,\n          infinite: false,\n          useBrowserFullscreen: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"image\",\n        src: images.length > 0 ? images[0].original : '',\n        alt: images.length > 0 ? '' : 'Image not found',\n        style: imageContainerStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.Caption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/search?searchterm=${post.Hashtag.substring(1)}`,\n        style: {\n          textDecoration: 'underline',\n          color: '#005c98'\n        },\n        children: post.Hashtag\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-footer-icons\",\n        children: [/*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {\n          onClick: handleLikeClick,\n          style: {\n            color: userLiked ? 'red' : 'inherit'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommentsPopup, {\n          postId: post.PostId,\n          commentData: post.Comments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-footer-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-footer-left\",\n          children: /*#__PURE__*/_jsxDEV(UserPopup, {\n            title: \"Likes\",\n            data: fetchPostLikes,\n            buttonComponent: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#005c98'\n              },\n              children: [likes.length, \" likes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 30\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-footer-right\",\n          children: post.PostedAt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this);\n}\n_s(Post, \"riawRpJLl5arckFoxBFRakSH2jc=\");\n_c = Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useState","useEffect","Link","CommentsPopup","UserPopup","UserHeader","BlobToImage","RefreshLogin","ImageGallery","styled","ArrowCircleLeftIcon","ArrowCircleRightIcon","FavoriteBorderIcon","jsxDEV","_jsxDEV","Post","_ref","_s","_JSON$parse","post","onDelete","loggedInUserId","JSON","parse","localStorage","getItem","UserId","isLoggedInUserProfile","userId","url","userLiked","setUserLiked","likes","setLikes","Likes","length","hasMultipleFiles","setHasMultipleFiles","maxWidth","window","innerWidth","maxHeight","images","setImages","largestImageHeight","setLargestImageHeight","ImageContainer","setImageContainer","imageContainerStyle","setImageContainerStyle","userRow","profilepictureblob","ProfilePicture","name","UsersName","debounceTimeout","Files","fetchImages","result","byteArray","maxAdjustedHeight","adjustedHeights","map","image","aspectRatio","width","height","adjustedHeight","Math","min","parseInt","isFinite","validHeights","filter","max","imgCont","div","containerStyle","border","handleLikeClick","newLikes","clearTimeout","setTimeout","postId","likeUserId","objMap","finalBody","stringify","likePost","body","response","fetch","method","mode","credentials","headers","status","error","setError","handleDeletePost","id","responseJson","json","ok","value","fetchPostLikes","userIds","like","LikeUserId","data","processedData","item","index","forename","surname","profilePictureBlob","unshift","handleDeleteComment","commentId","ConfirmDelete","_ref2","closeToast","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","renderLeftNav","disabled","style","outline","fontSize","renderRightNav","userid","items","showPlayButton","showFullscreenButton","showThumbnails","autoPlay","disableKeyDown","showBullets","disableThumbnailScroll","disableThumbnailSwipe","infinite","useBrowserFullscreen","src","original","alt","Caption","to","Hashtag","substring","textDecoration","color","PostId","commentData","Comments","title","buttonComponent","PostedAt","_c","$RefreshReg$"],"sources":["C:/Users/glenn/Documents/GitHub/SocialDynamo/SocialDynamo/Frontend/react-frontend/src/components/post/post.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { Link } from 'react-router-dom'; \r\nimport \"./post.css\";\r\nimport CommentsPopup from \"../modals/comments-popup\";\r\nimport UserPopup from \"../modals/user-popup\";\r\nimport UserHeader from \"../user-header\";\r\nimport BlobToImage from \"../../util/blob-to-image\";\r\nimport RefreshLogin from \"../../util/refresh-login\";\r\nimport \"./image-gallery.css\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport styled from 'styled-components'\r\n\r\nimport ArrowCircleLeftIcon from '@mui/icons-material/ArrowCircleLeft';\r\nimport ArrowCircleRightIcon from '@mui/icons-material/ArrowCircleRight';\r\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\r\n\r\nexport default function Post({ post, onDelete }) {\r\n  const loggedInUserId = JSON.parse(localStorage.getItem('userId'))?.UserId || null;\r\n  const isLoggedInUserProfile = post.userId === loggedInUserId ? true : false;\r\n  const url = JSON.parse(localStorage.getItem('url')) || null;\r\n  const [userLiked, setUserLiked] = useState(false);\r\n  const [likes, setLikes] = useState(post.Likes.length > 0 ? post.Likes : 0);\r\n  const [hasMultipleFiles, setHasMultipleFiles] = useState(false)\r\n\r\n  const maxWidth = window.innerWidth * 0.4;\r\n  const maxHeight = (maxWidth / 3) * 4;\r\n  \r\n  const [images, setImages] = useState([]);\r\n  const [largestImageHeight, setLargestImageHeight] = useState(maxHeight);\r\n  const [ImageContainer, setImageContainer] =  useState(null);\r\n  const [imageContainerStyle, setImageContainerStyle] = useState({});\r\n\r\n  const userRow = {\r\n    profilepictureblob: post.ProfilePicture,\r\n    name: post.UsersName,\r\n    userId: post.UserId\r\n  }\r\n  let debounceTimeout;\r\n  \r\n  //Initialise multiple files const & images\r\n  useEffect(() => {\r\n    setHasMultipleFiles(post.Files.length > 1);\r\n\r\n    const fetchImages = async () => {\r\n      const result = await BlobToImage({ byteArray: post.Files });\r\n      setImages(result);\r\n    };\r\n\r\n    fetchImages();\r\n\r\n  }, [post.Files.length]);\r\n\r\n  //Separate useEffect to ensure images fetched before calculations\r\n  useEffect(() => {\r\n      let maxAdjustedHeight = 0;\r\n\r\n      if (images.length > 0) {\r\n            \r\n          // Calculate the adjusted height for each image based on the original aspect ratio\r\n          const adjustedHeights = images.map(image => {\r\n          const aspectRatio = image.width / (image.height || 1);          \r\n          const adjustedHeight = Math.min(maxHeight, parseInt(maxWidth / aspectRatio));\r\n\r\n          return isFinite(adjustedHeight) ? adjustedHeight : 0;\r\n        });\r\n    \r\n        // Filter out NaN or infinite values\r\n        const validHeights = adjustedHeights.filter(height => isFinite(height));\r\n    \r\n        if (validHeights.length > 0) {\r\n          // Find the maximum adjusted height among all valid heights\r\n          maxAdjustedHeight = Math.max(...validHeights);\r\n          setLargestImageHeight(`${maxAdjustedHeight}px`);\r\n        } else {\r\n          setLargestImageHeight(0); // Reset to 0 if there are no valid heights\r\n        }\r\n      } else {\r\n        setLargestImageHeight(0); // Reset to 0 if there are no images\r\n      }\r\n\r\n      //Ensure correct styling\r\n      const imgCont = styled.div`    \r\n        .image-gallery-content,\r\n        .image-gallery-image,\r\n        .image-gallery-slides\r\n        {\r\n          width: 100%;\r\n          aspect-ratio: 4/3;\r\n          max-width: ${maxWidth}px !important;\r\n          height: ${maxAdjustedHeight}px;\r\n          max-height: ${maxHeight}px;\r\n          object-fit: contain;\r\n        }\r\n        \r\n        .image-gallery-slides{\r\n          border: 1px solid black;\r\n          border-radius: 5px;\r\n        }\r\n        `;\r\n\r\n      //Styling if no images\r\n      const containerStyle = images.length === 0\r\n      ? {\r\n          width: `${maxWidth}px`,\r\n          height: `${maxWidth}px`,\r\n          border: '1px solid black'\r\n        }\r\n      : {\r\n          maxWidth: `${maxWidth}px`,\r\n          width: `${maxWidth}px`,\r\n          width: '100%',\r\n          maxHeight: `${maxHeight}px`,\r\n          border: '1px solid black'\r\n      };\r\n      setImageContainerStyle(containerStyle);      \r\n      setImageContainer(imgCont);\r\n\r\n  }, [images]);\r\n\r\n  //Handle post like\r\n  const handleLikeClick = () => {\r\n    setUserLiked(!userLiked);\r\n\r\n    // Update the local state of likes\r\n    const newLikes = userLiked ? likes - 1 : likes + 1;\r\n    setLikes(newLikes);\r\n    \r\n    if (debounceTimeout) {\r\n      clearTimeout(debounceTimeout);\r\n    }\r\n\r\n    debounceTimeout = setTimeout(async () => {            \r\n      const postId = post.postId;\r\n      const likeUserId = loggedInUserId;\r\n      \r\n      const objMap = { postId, likeUserId };\r\n      const finalBody = JSON.stringify(objMap);\r\n\r\n      likePost(finalBody);\r\n    }, 300);\r\n\r\n    \r\n  };\r\n\r\n  const likePost= async (body) => {\r\n    try{\r\n      //Send data\r\n      const response = await fetch(url + '/posts/likepost', {\r\n        method: 'PUT',\r\n        mode: 'cors',\r\n        credentials: 'include',\r\n        body: finalBody,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if(response.status === 401){\r\n        RefreshLogin();\r\n        handleLikeClick();\r\n      }\r\n\r\n    }catch(error){\r\n      setError(\"Unexpected error occurred, please try again.\");\r\n    }\r\n  }\r\n\r\n  //Handle delete post\r\n  const handleDeletePost = async () => {\r\n    const id = post.postId\r\n    const objMap = { id };\r\n    const finalBody = JSON.stringify(objMap);\r\n    \r\n    try{\r\n      //Fetch data\r\n      const response = await fetch(url + '/posts/deletepost', {\r\n        method: 'DELETE',\r\n        mode: 'cors',\r\n        credentials: 'include',\r\n        body: finalBody,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      const responseJson = await response.json();\r\n\r\n      //Handle different responses\r\n      if (response.ok) {\r\n        setError('');\r\n      } else if (response.status === 401){\r\n        RefreshLogin();\r\n        handleDeletePost();\r\n      }else {            \r\n        setError(responseJson.value)\r\n      }\r\n    }catch(error){\r\n      setError(\"Unexpected error occurred, please try again.\");\r\n    }    \r\n  }\r\n\r\n  //Fetch current likes from API\r\n  const fetchPostLikes = async () => {\r\n    const userIds = post.likes.map((like) => like.LikeUserId);\r\n      \r\n    const objMap = { userIds };\r\n    const finalBody = JSON.stringify(objMap);\r\n\r\n    try{\r\n      //Send data              \r\n      const response = await fetch(url + '/account/Profiles', {\r\n        method: 'PUT',\r\n        mode: 'cors',\r\n        body: finalBody,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if(response.ok){\r\n        //Map response and update\r\n        const processedData = post.likes.map((item, index) => ({\r\n          userId: item.LikeUserId,\r\n          name: data[index].forename + ' ' + data[index].surname,\r\n          profilePictureBlob: data[index].profilePictureBlob\r\n        }));      \r\n      }else if(response.status === 401){\r\n        RefreshLogin();\r\n        fetchPostLikes();\r\n      }\r\n      \r\n      if(userLiked) processedData.unshift(userRow);\r\n    }catch(error){\r\n      setError(\"Unexpected error occurred, unable to fetch post likes.\");\r\n    }\r\n\r\n    return processedData;\r\n  };\r\n\r\n  const handleDeleteComment = async () => {\r\n    await onDelete(data.commentId);\r\n  }\r\n  \r\n  const ConfirmDelete = ({closeToast}) => {\r\n    <div>\r\n      <span> Are you sure you want to delete? </span>\r\n      <button className='delete-yes' onClick={handleDeleteComment}>Yes</button>\r\n      <button className='delete-no' onClick={closeToast}>No</button>\r\n    </div>\r\n  }\r\n\r\n  //Custom rendering for left nav icon\r\n  function renderLeftNav(onClick, disabled) {\r\n    return (\r\n      <button\r\n        className='image-gallery-left-nav'\r\n        disabled={disabled}\r\n        onClick={onClick}\r\n        style={{outline: 'none'}}>\r\n        <ArrowCircleLeftIcon className='left-icon' fontSize=\"large\"/>\r\n      </button>\r\n    )\r\n  };\r\n\r\n  //Custom render for right nav icon\r\n  function renderRightNav(onClick, disabled) {\r\n    return (\r\n      <button        \r\n        className='image-gallery-right-nav'\r\n        disabled={disabled}\r\n        onClick={onClick}\r\n        style={{outline: 'none'}}>          \r\n        <ArrowCircleRightIcon className='right-icon' fontSize=\"large\"/>        \r\n      </button>\r\n    )\r\n  }\r\n    \r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post-header\">  \r\n        <div className=\"post-header-left\">         \r\n          <UserHeader profilepictureblob={post.ProfilePicture} name={post.UsersName} userid={post.UserId}/> \r\n        </div>  \r\n        <div className=\"post-header-right\">\r\n          <div className='delete-button-container'>\r\n            {isLoggedInUserProfile && (  \r\n                <div className='delete-button' onClick={handleDeletePost}>                      \r\n                    <span>Delete</span>\r\n                </div>\r\n            )}    \r\n          </div>\r\n        </div>          \r\n      </div>\r\n      <div className=\"cont\">\r\n        {hasMultipleFiles ? (\r\n          <ImageContainer>\r\n            <ImageGallery items={images} \r\n                renderLeftNav={renderLeftNav}\r\n                renderRightNav={renderRightNav}\r\n                showPlayButton={false}\r\n                showFullscreenButton={false}\r\n                showThumbnails={false}\r\n                autoPlay={false}\r\n                disableKeyDown={true}\r\n                showBullets={true}\r\n                disableThumbnailScroll={true}\r\n                disableThumbnailSwipe={true}\r\n                infinite={false}\r\n                useBrowserFullscreen={false}\r\n                />\r\n            </ImageContainer>\r\n        ) : (\r\n          <img\r\n            className=\"image\"\r\n            src={images.length > 0 ? images[0].original : ''}\r\n            alt={images.length > 0 ? '' : 'Image not found'}\r\n            style={imageContainerStyle}\r\n          />     \r\n        )}\r\n      </div>     \r\n      <div className=\"post-body\">\r\n          <h3>{post.Caption}</h3>\r\n          <Link to={`/search?searchterm=${post.Hashtag.substring(1)}`} style={{ textDecoration: 'underline', color: '#005c98'}}>\r\n            {post.Hashtag}\r\n          </Link>\r\n      </div>\r\n      <div className=\"post-footer\">\r\n        <div className=\"post-footer-icons\">          \r\n          <FavoriteBorderIcon \r\n              onClick={handleLikeClick} \r\n              style={{ color: userLiked ? 'red' : 'inherit' }} \r\n          />\r\n          <CommentsPopup postId={post.PostId} commentData={post.Comments}/>                   \r\n        </div>     \r\n        <div className=\"post-footer-info\">\r\n          <div className=\"post-footer-left\">\r\n          <UserPopup\r\n            title=\"Likes\"\r\n            data={fetchPostLikes}\r\n            buttonComponent={<span style={{ color: '#005c98' }}>{likes.length} likes</span>}\r\n          />\r\n          </div>\r\n          <div className=\"post-footer-right\">\r\n            {post.PostedAt}\r\n          </div>\r\n        </div>\r\n      </div>        \r\n    </div>\r\n  );  \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}